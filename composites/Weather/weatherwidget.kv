#:kivy 2.0.0
#: import ew kivy.uix.effectwidget
<WeatherWidget>:
    size_hint: None, None
    size: self.size

    FloatLayout:
        size_hint: 1, 1
        size: root.overlay_size
        pos: dp(20), dp(20 + root.overlay_y_offset)
        opacity: root.overlay_opacity
        canvas:
            Color: 
                rgba: root.background
            RoundedRectangle:
                pos: self.pos
                size: self.size 
        
        GridLayout:
            cols: 1
            spacing: dp(20)
            size: root.overlay_size
            pos: dp(20), dp(20 + root.overlay_y_offset)
            canvas:
                Color: 
                    rgba: (0,1,0, 0)
                Rectangle:
                    pos: self.pos
                    size: self.size 
            
            GridLayout:
                cols: 2
                spacing: dp(20)
                GridLayout:
                    rows: 3
                    spacing: dp(20)
                    size: dp(200), dp(140)
                    size_hint: None, None
                    NetworkImage:
                        canvas:
                            Color: 
                                rgba: (1,0,0, 0.0)
                            Rectangle:
                                pos: self.pos
                                size: self.size 
                        url: root.icon
                        size: dp(200), dp(100)
                        size_hint: None, None
                        enable_stretch: True
                    Label:
                        text: root.temp + "\u00B0F" 
                        color: root.text_color
                        font_size: '24sp'
                        font_name: 'Nunito'
                        size: dp(200), dp(20)
                    Label:
                        text: "Feels Like: " +root.feelsLike + "\u00B0F" 
                        color: root.text_color
                        font_size: '12sp'
                        font_name: 'Nunito'
                        size: dp(200), dp(20)
                GridLayout:
                    cols: 2
                    spacing: dp(20)
                    FloatLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)
                    FloatLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)
                    Label:
                        text: "UV Index: "+root.uvIndex
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    Label:
                        text: "Precip Chance: "+root.precipPercent
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    Label:
                        text: "Wind Speed: "+root.windSpeed
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    Label:
                        text: "Cloud Cover: "+root.cloudCover
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    Label:
                        text: "Humidity: "+root.humidity
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    Label:
                        text: "Air Quality: "+root.airQuality
                        color: root.text_color
                        font_size: '14sp'
                        font_name: 'Nunito'
                    FloatLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)
                    FloatLayout:
                        size_hint: None, None
                        size: dp(50), dp(50)


            GridLayout:
                cols: 6
                spacing: dp(20)
                padding: dp(30), dp(20), dp(20), dp(20)
                WeatherDetails:
                    details:  root.future[1] if len(root.future) > 0 else {}
                WeatherDetails:
                    details:  root.future[2] if len(root.future) > 0 else {}
                WeatherDetails:
                    details:  root.future[3] if len(root.future) > 0 else {} 
                WeatherDetails:
                    details:  root.future[4] if len(root.future) > 0 else {} 
                WeatherDetails:
                    details:  root.future[5] if len(root.future) > 0 else {} 
                WeatherDetails:
                    details:  root.future[6] if len(root.future) > 0 else {} 

    GridLayout:
        canvas:
            Color: 
                rgba: (0,1,0, 0.0)
            Rectangle:
                pos: self.pos
                size: self.size 
        rows: 1
        pos: root.x, root.y + dp(root.y_offset) 
        size: root.size
        size_hint: None, None
        on_touch_down: root.handle_touch()
        NetworkImage:
            canvas:
                Color: 
                    rgba: (1,0,0, 0.0)
                Rectangle:
                    pos: self.pos
                    size: self.size 
            url: root.icon
            size: dp(50), dp(50)
            enable_stretch: True
        GridLayout:
            canvas:
                Color: 
                    rgba: (1,1,0, 0.0)
                Rectangle:
                    pos: self.pos
                    size: self.size 
            cols: 1
            size_hint: None, None
            size: dp(50), dp(50)
            Label:
                text: root.temp + "\u00B0F" 
                color: root.text_color
                font_size: '24sp'
                font_name: 'Nunito'