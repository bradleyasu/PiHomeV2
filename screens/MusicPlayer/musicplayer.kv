#:kivy 2.0.0

<MusicPlayerContainer>:
    size_hint: 1, 1
    pos_hint: {"center_x": .5, "center_y": .5}

    canvas: 
        Color:
            rgba: 0, 0, 0, 0.2
        Rectangle:
            size: self.size
            pos: self.pos

    Label:
        text: root.current_time
        font_size: '60sp'
        size_hint: 0.1, 0.1
        pos_hint: {"center_x": .21, "center_y": .5}
        color: 1, 1, 1, 1
        font_name: "Nunito"
        

<MusicPlayerCard>:
    size_hint: 0.5, 0.8
    pos_hint: {"center_x": .7, "center_y": .5}

    canvas.before:
        Color:
            rgba: 0, 0, 0, 0.85
        BoxShadow:
            pos: self.pos
            size: self.size
            offset: 0, -10
            spread_radius: -20, -20
            border_radius: 10, 10, 10, 10
            blur_radius: 80
    canvas:
        Color:
            rgba: 1, 1, 1, 1
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20, 20, 20, 20]


<Player>:
    canvas:
        Color:
            rgba: 1, 1, 1, 0
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10, 10, 10, 10]

    BoxLayout:
        
        orientation: "vertical"
        size_hint: 1, 1
        pos_hint: {"center_x": .5, "center_y": .5}
        padding: dp(10)

        VinylWidget:
            id: vinyl_widget
            xOffset: 2.35
            yOffset: 0.81
            size_hint: 1, 1
            pos_hint: {"center_x": .5, "center_y": .5}

        GridLayout:
            rows: 3
            size_hint: 1, 1
            pos_hint: {"center_x": .5, "center_y": .5}
            padding: dp(10)
            spacing: dp(10)

            Label:
                id: song_title
                text: root.now_playing
                font_size: '24sp'
                color: 0, 0, 0, 1
                font_name: "Nunito"
                size_hint: 1, 1
                pos_hint: {"center_x": .5, "center_y": .5}


            Slider:
                id: volume_slider
                value: 1
                min: 0
                max:  1
                step: 0.01
                on_value: root.set_volume(self.value)
                size_hint: 0.8, 1
                pos_hint: {"center_x": .5, "center_y": .5}


            BoxLayout:
                orientation: "horizontal"
                CircleButton:
                    text: "Stop"
                    on_press: root.stop()
                    stroke_color: 0, 0, 0, 0
                    text_color: 0, 0, 0, 1
                    font_size: '12sp'
                CircleButton:
                    text: "Radio"
                    on_press: root.on_radio()
                    stroke_color: 0, 0, 0, 0
                    text_color: 0, 0, 0, 1
                    font_size: '12sp'

    CircleButton:
        id: save_button
        text: "❤️"
        stroke_color: 0, 0, 0, 0
        text_color: 0.8, 0.8, 0.8, 1
        font_size: '28sp'
        pos_hint: {"center_x": .95, "center_y": .95}
        custom_font: 'ArialUnicode'
        on_press: root.save_song()


<VinylWidget>:
    size_hint: 0.4, 0.5
    pos_hint: {"center_x": .22, "center_y": .5}
    canvas:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

<RadioDrawer>:
    size_hint: 1.0, 0.0
    pos_hint: {"center_x": .5, "center_y": 0.2} 
    canvas:
        Color:
            rgba: 0, 0, 0, 0.9
        Rectangle:
            size: self.size
            pos: self.pos
        
    Carousel:
        # canvas:
            # Color:
                # rgba: 0, 255, 0, 0.9
            # Rectangle:
                # size: self.size
                # pos: self.pos
        size_hint: 1, 1
        pos_hint: {"center_x": .5, "center_y": .5}
        id: radio_carousel
        direction: "right"
        loop: True

<RadioItem>:
    canvas:
        Color:
            rgba: 0, 0, 0, 0
        Rectangle:
            size: self.size
            pos: self.pos

    NetworkImage:
        url: root.thumbnail
        size_hint: 0.5, 1.0
        pos_hint: {"center_x": .5, "center_y": .5}
    
    Label:
        text: root.text
        font_size: '28sp'
        color: 1, 1, 1, 1
        font_name: "Nunito"